<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>저속노화 28일 식단</title>
  <meta name="description" content="28일 식단 캘린더, 장보기, 레시피, 조리 가이드" />
  <link rel="icon" href="data:," />
  <!-- Tailwind (Play CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>html,body,#root{height:100%}
@media print{header{position:static!important}table{break-inside:avoid;page-break-inside:avoid}section{break-inside:avoid}}
  </style>
</head>
<body class="bg-zinc-900 text-zinc-100">
  <div id="root"></div>

  <script type="module">
    import React, { useMemo, useState, useEffect } from 'https://esm.sh/react@18';
    import { createRoot } from 'https://esm.sh/react-dom@18/client';
    import { Download, Search, ChefHat, Utensils, Soup, ShoppingBasket, Printer, Clock, Flame, Info, CheckCircle } from 'https://esm.sh/lucide-react@0.370.0?deps=react@18';

    const Btn = ({variant="primary", className="", ...props}) => {
      const base = "inline-flex items-center gap-2 rounded-2xl px-4 py-2 text-sm font-medium transition";
      const style = variant === "ghost" ? "bg-transparent hover:bg-zinc-800/30" : variant === "soft" ? "bg-zinc-800/60 hover:bg-zinc-700/70" : "bg-emerald-600 hover:bg-emerald-500";
      return React.createElement('button', { className: `${base} ${style} ${className}`, ...props });
    };

    const Badge = ({children, className=""}) => React.createElement('span', { className: `inline-flex items-center rounded-full border border-zinc-700 bg-zinc-800/70 px-2.5 py-0.5 text-xs ${className}` }, children);

    function parseCSV(text){
      const rows = [];
      const src = String(text).replace(/\r\n?/g,'\n');
      let i=0, field='', row=[], inQuotes=false;
      while(i < src.length){
        const ch = src[i];
        if(inQuotes){
          if(ch === '"'){
            const next = src[i+1];
            if(next === '"'){ field += '"'; i += 2; continue; }
            inQuotes = false; i++; continue;
          } else { field += ch; i++; continue; }
        } else {
          if(ch === '"'){ inQuotes = true; i++; continue; }
          if(ch === ','){ row.push(field); field=''; i++; continue; }
          if(ch === '\n'){ row.push(field); rows.push(row); row=[]; field=''; i++; continue; }
          field += ch; i++;
        }
      }
      row.push(field); if(row.length>1 || row[0] !== '') rows.push(row);
      if(rows.length === 0) return { headers: [], records: [] };
      const headers = rows[0];
      const records = rows.slice(1).map(r => { const o = {}; headers.forEach((h, idx) => { o[h] = r[idx] ?? ''; }); return o; });
      return { headers, records };
    }

    async function fetchCSV(url){
      const res = await fetch(url, { cache: 'no-store' });
      if(!res.ok) throw new Error(`Failed to load ${url}: ${res.status}`);
      return await res.text();
    }

    function toCSV(rows, headers){
      const esc = (s) => '"' + String((s == null ? "" : s)).replaceAll('"','""') + '"';
      const head = headers.map(esc).join(',');
      const body = rows.map(r => headers.map(h => esc(r[h])).join(',')).join('\n');
      return head + '\n' + body;
    }
    function downloadCSV(filename, rows, headers){
      const csv = toCSV(rows, headers);
      const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = filename; a.click();
      URL.revokeObjectURL(url);
    }

    function App(){
      const [search, setSearch] = useState('');
      const [cat, setCat] = useState('전체');
      const [week, setWeek] = useState(1);
      const [recipes, setRecipes] = useState([]);
      const [groceries, setGroceries] = useState([]);
      const [calendarCsv, setCalendarCsv] = useState([]);
      const [opsCsv, setOpsCsv] = useState([]);
      const [shelfCsv, setShelfCsv] = useState([]);
      const [pantryCsv, setPantryCsv] = useState([]);
      const [purchaseCsv, setPurchaseCsv] = useState([]);
      const [tripsCsv, setTripsCsv] = useState([]);
      const [loading, setLoading] = useState(true);

      useEffect(()=>{
        let mounted = true;
        (async () => {
          try{
            const [r1, r2, r3, r4, r5, r6, r7] = await Promise.all([
              fetchCSV('doc/data/recipes.csv'),
              fetchCSV('doc/data/grocery_v3.csv'),
              fetchCSV('doc/data/calendar_28d.csv'),
              fetchCSV('doc/data/ops_guide.csv'),
              fetchCSV('doc/data/shelf_life.csv'),
              fetchCSV('doc/data/pantry_restock.csv'),
              fetchCSV('doc/data/purchase_schedule.csv'),
            ]);
            const t8 = await fetchCSV('doc/data/shopping_trips.csv');
            const { records: rr } = parseCSV(r1);
            const { records: gr } = parseCSV(r2);
            const { records: cr } = parseCSV(r3);
            const { records: or } = parseCSV(r4);
            const { records: sr } = parseCSV(r5);
            const { records: pr } = parseCSV(r6);
            const { records: ur } = parseCSV(r7);
            const { records: tr } = parseCSV(t8);
            const recipeMapped = rr.map(o=>({
              category: o['카테고리'] ?? '', name: o['레시피'] ?? '', servings: o['1인분(서빙)'] ?? '',
              ingredients: o['재료'] ?? '', dressing: o['드레싱/소스'] ?? '', steps: o['조리 단계'] ?? '',
              proteinTarget: o['목표 단백질(g)'] ?? '', storage: o['보관/소비 팁'] ?? '', options: o['옵션/대체'] ?? '',
            }));
            const groceryMapped = gr.map(o=>({ group: o['구분'] ?? '', item: o['품목'] ?? '', qty: o['권장 수량'] ?? '', memo: o['메모'] ?? '' }));
            const calMapped = cr.map(o=>({ week: Number(o['주차'] ?? '0'), day: o['요일'] ?? '', window: o['식사창'] ?? '', time: o['시간'] ?? '', menu: o['메뉴'] ?? '', note: o['비고'] ?? '' }));
            const opsMapped = or.map(o=>({ day: o['요일'] ?? '', title: o['제목'] ?? '', task: o['할일'] ?? '' }));
            const shelfMapped = sr.map(o=>({ item: o['항목'] ?? '', coldDays: o['냉장기간'] ?? '', todayOnly: o['당일섭취'] ?? '', leftover: o['남은음식'] ?? '', note: o['비고'] ?? '' }));
            const pantryMapped = pr.map(o=>({ item: o['품목'] ?? '', cycle: o['보충 주기'] ?? '', memo: o['메모'] ?? '' }));
            const purchaseMapped = ur.map(o=>({ day: o['요일'] ?? '', weekCond: o['주차조건'] ?? '', type: o['유형'] ?? '', item: o['항목'] ?? '' }));
            const tripsMapped = tr.map(o=>({ day: o['요일'] ?? '', weekCond: o['주차조건'] ?? '', trip: o['트립'] ?? '', required: o['필수여부'] ?? '', item: o['품목'] ?? '', qty: o['권장 수량'] ?? '', memo: o['메모'] ?? '' }));
            if(mounted){
              setRecipes(recipeMapped); setGroceries(groceryMapped); setCalendarCsv(calMapped);
              setOpsCsv(opsMapped); setShelfCsv(shelfMapped); setPantryCsv(pantryMapped);
              setPurchaseCsv(purchaseMapped); setTripsCsv(tripsMapped);
            }
          } finally { if(mounted) setLoading(false); }
        })();
        return () => { mounted = false; };
      }, []);

      const filteredRecipes = useMemo(()=> recipes.filter(r => (cat==='전체' || r.category===cat) && (String(r.name).includes(search) || String(r.ingredients).includes(search) || String(r.steps).includes(search))), [search, cat, recipes]);
      const weekView = useMemo(()=> {
        const rows = calendarCsv.filter(r=>r.week===week);
        // day별로 묶어 meals 배열로 변환
        const groups = [];
        const byDay = {};
        rows.forEach(r=>{
          if(!byDay[r.day]) byDay[r.day] = { week: week, day: r.day, window: r.window, note: r.note, meals: [] };
          byDay[r.day].meals.push({ time: r.time, title: r.menu.split(' — ')[0] ?? r.menu, detail: r.menu.includes(' — ') ? r.menu.split(' — ')[1] : '' });
        });
        ['월','화','수','목','금','토','일'].forEach(d => { if(byDay[d]) groups.push(byDay[d]); });
        return groups;
      }, [calendarCsv, week]);

      const recipeCSVHeaders = ["카테고리","레시피","1인분(서빙)","재료","드레싱/소스","조리 단계","목표 단백질(g)","보관/소비 팁","옵션/대체"];
      const recipeCSVRows = recipes.map(r=>({"카테고리":r.category,"레시피":r.name,"1인분(서빙)":r.servings,"재료":r.ingredients,"드레싱/소스":r.dressing,"조리 단계":r.steps,"목표 단백질(g)":r.proteinTarget,"보관/소비 팁":r.storage,"옵션/대체":r.options}));
      const groceryCSVHeaders = ["구분","품목","권장 수량","메모"];
      const groceryCSVRows = groceries.map(g=>({"구분":g.group,"품목":g.item,"권장 수량":g.qty,"메모":g.memo}));
      const calendarCSVHeaders = ["주차","요일","식사창","시간","메뉴","비고"];
      const calendarCSVRows = calendarCsv.map(r=>({"주차":r.week,"요일":r.day,"식사창":r.window,"시간":r.time,"메뉴":r.menu,"비고":r.note}));

      return React.createElement('div', {className:'min-h-screen'}, [
        React.createElement('header', {key:'hdr', className:'sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-zinc-900/70 border-b border-zinc-800'},
          React.createElement('div', {className:'mx-auto max-w-6xl px-4 py-3 flex items-center gap-3'}, [
            React.createElement(ChefHat, {className:'text-emerald-400', key:'icon'}),
            React.createElement('h1', {className:'text-lg font-semibold tracking-tight', key:'title'}, '저속노화 28일 식단'),
            React.createElement('div', {className:'ml-auto flex items-center gap-2', key:'actions'}, [
              React.createElement(Btn, {onClick:()=>window.print(), className:'print:hidden', variant:'soft', key:'print'}, [React.createElement(Printer, {size:16, key:'p'}), ' 인쇄']),
              React.createElement(Btn, {onClick:()=>downloadCSV('recipes.csv', recipeCSVRows, recipeCSVHeaders), className:'print:hidden', variant:'soft', key:'r'}, [React.createElement(Download, {size:16, key:'d'}), ' 레시피 CSV']),
              React.createElement(Btn, {onClick:()=>downloadCSV('grocery_v3.csv', groceryCSVRows, groceryCSVHeaders), className:'print:hidden', variant:'soft', key:'g'}, [React.createElement(Download, {size:16, key:'d2'}), ' 장보기 CSV']),
              React.createElement(Btn, {onClick:()=>downloadCSV('calendar_28d.csv', calendarCSVRows, calendarCSVHeaders), className:'print:hidden', variant:'soft', key:'c'}, [React.createElement(Download, {size:16, key:'d3'}), ' 캘린더 CSV']),
            ])
          ])
        ),

        React.createElement('main', {key:'main', className:'mx-auto max-w-6xl px-4 py-6 grid gap-8'}, [
          React.createElement('section', {key:'ov', className:'grid gap-3'},
            React.createElement('div', {className:'grid grid-cols-1 md:grid-cols-4 gap-3'}, [
              React.createElement('div', {className:'rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4', key:'ov1'}, [
                React.createElement('h3', {className:'font-semibold flex items-center gap-2 mb-1'}, [React.createElement(Clock, {size:16, className:'text-emerald-400', key:'i'}), '식사창']),
                React.createElement('p', {className:'text-sm text-zinc-300'}, '평일 ', React.createElement('b', null, '10:00–18:00'), ' (10시 샌드·15시 요거트·17:15 샐러드)', React.createElement('br'), '주말 ', React.createElement('b', null, '12:00–20:00'), ' (점심 샌드·저녁 자유식)')
              ]),
              React.createElement('div', {className:'rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4', key:'ov2'}, [
                React.createElement('h3', {className:'font-semibold flex items-center gap-2 mb-1'}, [React.createElement(Flame, {size:16, className:'text-emerald-400', key:'i'}), '운동']),
                React.createElement('p', {className:'text-sm text-zinc-300'}, '06:00 공복 운동 · 05:30 물+전해질 500–1000mg · 블랙커피')
              ]),
              React.createElement('div', {className:'rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4', key:'ov3'}, [
                React.createElement('h3', {className:'font-semibold flex items-center gap-2 mb-1'}, [React.createElement(CheckCircle, {size:16, className:'text-emerald-400', key:'i'}), '목표']),
                React.createElement('p', {className:'text-sm text-zinc-300'}, '단백질 ', React.createElement('b', null, '130–170g/일'), ', 식이섬유 30g+, 채소 400–600g/일')
              ]),
              React.createElement('div', {className:'rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4', key:'ov4'}, [
                React.createElement('h3', {className:'font-semibold flex items-center gap-2 mb-1'}, [React.createElement(Info, {size:16, className:'text-emerald-400', key:'i'}), '연어(회)']),
                React.createElement('p', {className:'text-sm text-zinc-300'}, '반드시 ', React.createElement('b', null, '사시미용(급속냉동)'), '만 사용 · ', React.createElement('b', null, '당일 섭취'), ' (남으면 익일 점심까지만)')
              ])
            ])
          ),

          React.createElement('section', {key:'cal', className:'grid gap-3'}, [
            React.createElement('div', {className:'flex items-center justify-between gap-3'}, [
              React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(Soup, {className:'text-emerald-400', key:'i'}), '주간 캘린더']),
              React.createElement('div', {className:'flex items-center gap-2'}, [1,2,3,4].map(n => React.createElement(Btn, {key:n, variant: (week===n?'primary':'soft'), onClick:()=>setWeek(n)}, `${n}주차`)))
            ]),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '요일'),
                  React.createElement('th', {className:'p-3 text-left'}, '식사창'),
                  React.createElement('th', {className:'p-3 text-left'}, '시간'),
                  React.createElement('th', {className:'p-3 text-left'}, '메뉴'),
                  React.createElement('th', {className:'p-3 text-left'}, '비고'),
                ])),
                React.createElement('tbody', {key:'tb'}, weekView.flatMap((d,i) => d.meals.map((m,j) => (
                  React.createElement('tr', {key:`${i}-${j}`, className:'border-t border-zinc-800/60'}, [
                    ...(j===0 ? [
                      React.createElement('td', {className:'p-3 align-top', rowSpan:d.meals.length}, React.createElement('b', null, d.day)),
                      React.createElement('td', {className:'p-3 align-top', rowSpan:d.meals.length}, d.window),
                    ] : []),
                    React.createElement('td', {className:'p-3 align-top whitespace-nowrap'}, m.time),
                    React.createElement('td', {className:'p-3 align-top'}, [React.createElement('span', {className:'font-medium'}, m.title), React.createElement('div', {className:'text-zinc-400'}, m.detail)]),
                    ...(j===0 ? [React.createElement('td', {className:'p-3 align-top', rowSpan:d.meals.length}, d.note ?? '')] : []),
                  ])
                ))))
              ])
            )
          ]),

          React.createElement('section', {key:'gro', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(ShoppingBasket, {className:'text-emerald-400', key:'i'}), '주간 장보기 v3']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '구분'),
                  React.createElement('th', {className:'p-3 text-left'}, '품목'),
                  React.createElement('th', {className:'p-3 text-left'}, '권장 수량'),
                  React.createElement('th', {className:'p-3 text-left'}, '메모'),
                ])),
                React.createElement('tbody', {key:'tb'}, groceries.map((g, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3'}, g.group),
                    React.createElement('td', {className:'p-3'}, g.item),
                    React.createElement('td', {className:'p-3'}, g.qty),
                    React.createElement('td', {className:'p-3 text-zinc-400'}, g.memo),
                  ])
                )))
              ]))
          ]),

          React.createElement('section', {key:'rec', className:'grid gap-3'}, [
            React.createElement('div', {className:'flex items-center justify-between gap-3'}, [
              React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(Utensils, {className:'text-emerald-400', key:'i'}), '레시피']),
              React.createElement('div', {className:'flex items-center gap-2'}, [
                ['전체','샌드위치','샐러드','요거트'].map(c => React.createElement(Btn, {key:c, variant:(cat===c?'primary':'soft'), onClick:()=>setCat(c)}, c)),
                React.createElement('div', {className:'relative'}, [
                  React.createElement(Search, {size:16, className:'absolute left-3 top-2.5 text-zinc-400'}),
                  React.createElement('input', {value:search, onChange:e=>setSearch(e.target.value), placeholder:'레시피 검색(이름/재료/단계)', className:'pl-9 pr-3 py-2 rounded-2xl bg-zinc-900 border border-zinc-800 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500'})
                ])
              ])
            ]),
            React.createElement('div', {className:'grid grid-cols-1 md:grid-cols-2 gap-3'}, filteredRecipes.map((r,i) => (
              React.createElement('div', {key:i, className:'rounded-2xl border border-zinc-800 bg-zinc-900/40 p-4'}, [
                React.createElement('div', {className:'flex items-center justify_between gap-2 mb-1'.replace('_','-')}, [
                  React.createElement('div', {className:'flex items-center gap-2'}, [React.createElement(Badge, null, r.category), React.createElement('h3', {className:'font-semibold text-base'}, r.name)]),
                  React.createElement(Badge, null, `${r.proteinTarget} g 단백질`)
                ]),
                React.createElement('p', {className:'text-sm text-zinc-300'}, React.createElement('b', null, '서빙:'), ' ', r.servings),
                React.createElement('p', {className:'text-sm text-zinc-300'}, React.createElement('b', null, '재료:'), ' ', r.ingredients),
                r.dressing !== '—' ? React.createElement('p', {className:'text-sm text-zinc-300'}, React.createElement('b', null, '드레싱/소스:'), ' ', r.dressing) : null,
                React.createElement('p', {className:'text-sm text-zinc-300'}, React.createElement('b', null, '단계:'), ' ', r.steps),
                r.storage ? React.createElement('p', {className:'text-sm text-zinc-400'}, React.createElement('b', null, '보관:'), ' ', r.storage) : null,
                r.options ? React.createElement('p', {className:'text-sm text-zinc-400'}, React.createElement('b', null, '옵션:'), ' ', r.options) : null,
              ])
            )))
          ]),

          React.createElement('section', {key:'ops', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(ChefHat, {className:'text-emerald-400', key:'i'}), '운영 매뉴얼']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '요일'),
                  React.createElement('th', {className:'p-3 text-left'}, '제목'),
                  React.createElement('th', {className:'p-3 text-left'}, '할일'),
                ])),
                React.createElement('tbody', {key:'tb'}, opsCsv.map((o, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3 align-top'}, o.day),
                    React.createElement('td', {className:'p-3 align-top'}, o.title),
                    React.createElement('td', {className:'p-3 align-top text-zinc-400'}, o.task),
                  ])
                )))
              ]))
          ]),

          React.createElement('section', {key:'shelf', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(Info, {className:'text-emerald-400', key:'i'}), '보관 수명/안전 가이드']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '항목'),
                  React.createElement('th', {className:'p-3 text-left'}, '냉장기간'),
                  React.createElement('th', {className:'p-3 text-left'}, '당일섭취'),
                  React.createElement('th', {className:'p-3 text-left'}, '남은음식'),
                  React.createElement('th', {className:'p-3 text-left'}, '비고'),
                ])),
                React.createElement('tbody', {key:'tb'}, shelfCsv.map((s, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3 align-top'}, s.item),
                    React.createElement('td', {className:'p-3 align-top'}, s.coldDays),
                    React.createElement('td', {className:'p-3 align-top'}, s.todayOnly),
                    React.createElement('td', {className:'p-3 align-top'}, s.leftover),
                    React.createElement('td', {className:'p-3 align-top text-zinc-400'}, s.note),
                  ])
                )))
              ]))
          ]),

          React.createElement('section', {key:'pantry', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(ShoppingBasket, {className:'text-emerald-400', key:'i'}), '팬트리 상시 재고']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '품목'),
                  React.createElement('th', {className:'p-3 text-left'}, '보충 주기'),
                  React.createElement('th', {className:'p-3 text-left'}, '메모'),
                ])),
                React.createElement('tbody', {key:'tb'}, pantryCsv.map((p, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3'}, p.item),
                    React.createElement('td', {className:'p-3'}, p.cycle),
                    React.createElement('td', {className:'p-3 text-zinc-400'}, p.memo),
                  ])
                )))
              ]))
          ]),

          React.createElement('section', {key:'purchase', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(ShoppingBasket, {className:'text-emerald-400', key:'i'}), '주간 구매/보충 스케줄']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '요일'),
                  React.createElement('th', {className:'p-3 text-left'}, '주차조건'),
                  React.createElement('th', {className:'p-3 text-left'}, '유형'),
                  React.createElement('th', {className:'p-3 text-left'}, '항목'),
                ])),
                React.createElement('tbody', {key:'tb'}, purchaseCsv.map((p, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3'}, p.day),
                    React.createElement('td', {className:'p-3'}, p.weekCond),
                    React.createElement('td', {className:'p-3'}, p.type),
                    React.createElement('td', {className:'p-3 text-zinc-400'}, p.item),
                  ])
                )))
              ]))
          ]),

          React.createElement('section', {key:'trips', className:'grid gap-3'}, [
            React.createElement('h2', {className:'text-xl font-semibold flex items-center gap-2'}, [React.createElement(ShoppingBasket, {className:'text-emerald-400', key:'i'}), '장보기 트립 계획']),
            React.createElement('div', {className:'rounded-2xl border border-zinc-800 overflow-hidden'},
              React.createElement('table', {className:'w-full text-sm'}, [
                React.createElement('thead', {className:'bg-zinc-800/50', key:'th'}, React.createElement('tr', null, [
                  React.createElement('th', {className:'p-3 text-left'}, '요일'),
                  React.createElement('th', {className:'p-3 text-left'}, '주차조건'),
                  React.createElement('th', {className:'p-3 text-left'}, '트립'),
                  React.createElement('th', {className:'p-3 text-left'}, '필수여부'),
                  React.createElement('th', {className:'p-3 text-left'}, '품목'),
                  React.createElement('th', {className:'p-3 text-left'}, '권장 수량'),
                  React.createElement('th', {className:'p-3 text-left'}, '메모'),
                ])),
                React.createElement('tbody', {key:'tb'}, tripsCsv.map((t, idx) => (
                  React.createElement('tr', {key:idx, className:'border-t border-zinc-800/60'}, [
                    React.createElement('td', {className:'p-3'}, t.day),
                    React.createElement('td', {className:'p-3'}, t.weekCond),
                    React.createElement('td', {className:'p-3'}, t.trip),
                    React.createElement('td', {className:'p-3'}, t.required),
                    React.createElement('td', {className:'p-3'}, t.item),
                    React.createElement('td', {className:'p-3'}, t.qty),
                    React.createElement('td', {className:'p-3 text-zinc-400'}, t.memo),
                  ])
                )))
              ]))
          ]),
        ]),

        React.createElement('footer', {key:'ft', className:'text-xs text-zinc-400 pt-6 pb-10'},
          loading
            ? React.createElement('p', null, '데이터 불러오는 중... (네트워크 상태에 따라 수 초 소요)')
            : React.createElement('p', null, '· 본 가이드는 개인 목표(근성장, 건선/탈모 고려)와 16:8 간헐적 단식에 맞춘 참고용입니다. 알레르기/질환/약물 복용 시 전문가와 상담하세요.')
        ),
      ]);
    }

    createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</body>
</html>
